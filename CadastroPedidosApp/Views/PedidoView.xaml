<UserControl x:Class="PedidoApp.Views.PedidoView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Height="450" Width="850">

    <Grid Margin="10">

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- CLIENTE -->
        <TextBlock Text="{Binding NomeCliente}"
                   FontSize="18"
                   FontWeight="Bold"
                   Margin="0,0,0,10"/>

        <!-- LISTA DE PRODUTOS -->
        <DataGrid Grid.Row="1"
                  ItemsSource="{Binding Produtos}"
                  SelectedItem="{Binding ProdutoSelecionado}"
                  AutoGenerateColumns="False"
                  Height="200">

            <DataGrid.Columns>
                <DataGridTextColumn Header="Nome" Binding="{Binding Nome}" Width="*"/>
                <DataGridTextColumn Header="Código" Binding="{Binding Codigo}" Width="120"/>
                <DataGridTextColumn Header="Valor" Binding="{Binding Valor}" Width="120"/>
            </DataGrid.Columns>
        </DataGrid>

        <!-- BOTÃO ADICIONAR -->
        <Button Grid.Row="1"
                Content="Adicionar Produto"
                Width="150"
                Height="30"
                HorizontalAlignment="Right"
                VerticalAlignment="Bottom"
                Margin="0,0,0,10"
                Command="{Binding AdicionarProdutoCommand}"/>

        <!-- ITENS DO PEDIDO -->
        <GroupBox Grid.Row="2" Header="Itens do Pedido" Margin="0,10,0,0">
            <StackPanel>

                <DataGrid ItemsSource="{Binding ItensPedido}"
                          AutoGenerateColumns="False"
                          Height="120">

                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Produto" Binding="{Binding Produto.Nome}" Width="*"/>
                        <DataGridTextColumn Header="Qtd" Binding="{Binding Quantidade}" Width="80"/>
                        <DataGridTextColumn Header="Total" Binding="{Binding TotalItem}" Width="120"/>
                    </DataGrid.Columns>

                </DataGrid>

                <!-- TOTAL -->
                <TextBlock Text="{Binding TotalPedido}"
                           FontSize="16"
                           FontWeight="Bold"
                           HorizontalAlignment="Right"
                           Margin="0,5"/>

                <!-- FINALIZAR -->
                <Button Content="Finalizar Pedido"
                        Width="150"
                        HorizontalAlignment="Center"
                        Margin="0,5"
                        Command="{Binding FinalizarPedidoCommand}"/>

            </StackPanel>
        </GroupBox>

    </Grid>
</UserControl>
